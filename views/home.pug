extends layout
//- include component/card-rt
include component/home__card-chart

block append head
  link(rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css")
  link(rel="stylesheet", href="/stylesheets/lib/flickity.min.css")
  //- link(rel="stylesheet", href="/stylesheets/lib/flickity.css")  
  link(rel="stylesheet", href="/stylesheets/home/home.css")
  link(rel="stylesheet", href="/stylesheets/home/home-carousel.css")
  link(rel="stylesheet", href="/stylesheets/home/card.css")
  //- link(rel="stylesheet", href="/stylesheets/home/home-about.css")
  //- link(rel="stylesheet", href="/stylesheets/card.css")
  //- link(rel="stylesheet", href="/stylesheets/tabs.css")
  //- link(rel='stylesheet', href='/stylesheets/icon-nav.css')
  script(src='/lib/d3v5/d3.min.js' type="text/javascript" )
  script(src="/lib/flickity.pkgd.min.js" type="text/javascript")
  //- script(src='javascripts/home/flickity_utils.js' type="text/javascript")
  //- script(src='/lib/set-interval-async.iife.js' type="text/javascript" defer)
  script(src="https://unpkg.com/set-interval-async" type="text/javascript" defer)
  script(src='javascripts/home/card_time.js' type="text/javascript" defer)
  script(src='javascripts/home/card_weather_current.js' type="text/javascript" defer)
  //- script(src='javascripts/home/card_population.js' type="text/javascript" defer)

//- block navigation

block content
  #hero 
    #hero-grid
        #hero-title
            #hero-title__text--top CORK
            #hero-title__text--bottom DASHBOARD
        #hero-time-weather
            #hero-time
                #hero-time__box  
                    #hero-time__clock  
                    #hero-time__date
            #hero-weather
                include home/hero__card-weather
      
        #hero-carousel
            <div class="carousel" data-flickity='{ "freeScroll": true, "wrapAround": false, "freeScrollFriction": 0.05,"selectedAttraction": 0.05, "cellSelector": ".carousel-cell", "cellAlign": "left", "percentPosition": false, "pageDots": true, "adaptiveHeight": false}'>
                .carousel-cell
                  +home__card-chart({
                      title: 'population',
                      subtitle:  'City & County',
                      id: 'population-card',
                      info: 'The population of Cork fell dramatically after the census of 1841, but has recovered steadily in more recent years',
                      links: [{
                        href :'/some/link',
                        name:'More'
                      },
                      {
                        href :'some/link',
                        name:'Explore data'
                      }],
                      plotoptions:{
                        data:{
                        href: '../data/static/CNA13.json',
                        },
                        src: '/javascripts/home/card_population.js',
                        format:''
                      }
                    })
                .carousel-cell
                  +home__card-chart({
                      title: 'employment',
                      subtitle:  'South-east',
                      id: 'employment-card',
                      info: '',
                      links: [{
                        href :'/some/link',
                        name:'More'
                      },
                      {
                        href :'some/link',
                        name:'Explore data'
                      }],
                      plotoptions:{
                        data:{
                        href: 'https://statbank.cso.ie/StatbankServices/StatbankServices.svc/jsonservice/responseinstance/QLF08',
                        },
                        src: '/javascripts/home/card_employment.js',
                        format:''
                      }
                    })
            </div>
        //-         //- include component/carousel-charts.pug
        #hero__icon-navs
            include home/hero__icon-nav.pug
            
        #hero-scroll-arrow.scroll-arrow
            a(href='#about-cork')
                <svg viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" ></path></svg>
          
            //- include component/toggle-button.pug
  #about-cork.home__about 
    #about-cork__header.home__about__header  
      h1 ABOUT CORK
    #about-cork__card.home__about__card
      p#region__open Cork is the second largest city in Ireland. 
        |It is located in the province of Munster and covers a total area of 
        span#region__area xxx.xx
        |. 

        |Cork has a total population of 
        span#region__population x,xxx,xxx 
        |  people, with a median age of 
        span#region__age xx.x 
        |  years. The median household income is 
        span#region__income €xx.xx
        |.
      p Between 2011 and 2016, the population of Cork 
        span#region__populationIndicator declined/increased 
        |from 
        span#region__prePopulation xxxxxx 
        |  to 
        span#region__population xxxxxx 
        |, a 
        span#region__populationChange x.xx% decrease/increase 
        |. 
        |  The median household income for the region 
        span#region__incomeIndicator grew/shrunk 
        |from 
        span#region__income__prev €xx.xx 
        |  to 
        span#region__income €xx.xx
        |, a 
        span#region__income__change x.xx% decrease/increase
        |.
      p There are 2 local authorities whose remit encompasses the geographic area of the county and city of Cork. 
        | Select a council on the map in the next section to see specific information. 
        //- #regions-map
      
  //- #regions-info
    #regions-info__map
      svg#map
    //- #regions-info_flex
    #regions-info__cta SELECT A COUNTY COUNCIL ON THE MAP TO LEARN MORE 
    #regions-info__cta-arrow 
      <svg viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" ></path></svg>
    #regions-info__card
      #regions-info__card__header
        h1#local__title Cork City
      #regions-info__card__body
        p 
          span#local__open 
          | It covers an area of 
          span#local__area
          |.  
          span#local__title__small  
          |  has a total population of 
          span#local__total-popualtion 
          |  people, with a median age of 
          span#local__age xx.x 
          |  years.
          //- |and a median household income of 
          //- span#local__income €xx.xx.
        p Between 2011 and 2016 the population of  
          span#local__title__small Cork
          |  
          span#local__populationIndicator  
          |from 
          span#local__prePopulation xxxxxx 
          |  to 
          span#local__curPopulation xxxxxx 
          |, a 
          span#local__populationChange x.xx% decrease/increase
          |.
    
  #about-cork-dashboard.home__about
    #about-cork-dashboard__header.home__about__header 
      h1 ABOUT THE DASHBOARD
    #about-cork-dashboard__twitter
      p Follow @corkdashboard on Twitter
    #about-cork-dashboard__card.home__about__card
      p Cork Dashboard provides citizens, public sector workers and companies with real-time information, time-series indicator data, and interactive maps about all aspects of the city and county. It enables users to gain detailed, up to date intelligence about the city that aids everyday decision making and fosters evidence-informed analysis. 
      p Data is pulled together from major sources -- including Cork City Council, Central Statistics Office, Eurostat, government departments and others, and includes links to a variety of existing external applications -- to provide interactive data visualisations. The underlying data is freely available, so others can undertake their own analysis and build their own applications and visualisations.
        
    //- #about-cork-dashboard.position-anchor
  //- section.map
    .content-wrapper.content-wrapper--very-dark-blue
      .container
      //- .position-anchor#about-cork-dashboard
        include component/about-dd.pug

  //- include component/scroll-to-top

//- block append scripts
  //- script(src="https://unpkg.com/flickity@2/dist/flickity.pkgd.js" type="text/javascript")
  
  script(src="lib/flickity.pkgd.min.js" type="text/javascript")
  script(src='javascripts/home/flickity_utils.js' type="text/javascript")
  script(src="lib/d3v5/d3.js" type="text/javascript" defer)
  script(src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" defer)
  
 
  script(src='javascripts/corkco.js' type="text/javascript" defer)
  script(src='javascripts/home/home-helper-functions.js' type="text/javascript" defer)
  script(src='javascripts/home/about-cork.js' type="text/javascript" defer)
  script(src='javascripts/home/about-regions.js' type="text/javascript" defer)
  //- script(src='javascripts/map.js')
  
  script(src='javascripts/charts/card_line_chart.js' type="text/javascript" defer)
  script(src='javascripts/charts/card_bar_chart.js' type="text/javascript" defer)
  script(src='javascripts/coerce.js' type="text/javascript" defer)
  script(src='javascripts/home/data_glance.js' type="text/javascript" defer)

  //- script(src='javascripts/home/card_weather.js' type="text/javascript")
 
  script(src='javascripts/home/card_bikes.js' type="module")
  script(src='javascripts/home/card_traveltimes.js' type="text/javascript" defer)
  script(src='javascripts/home/card_population.js' type="text/javascript" defer)
  script(src='javascripts/home/card_unemployment.js' type="text/javascript" defer)
  script(src='javascripts/home/card_housecompletions.js' type="text/javascript" defer)
  script(src='javascripts/home/card_propertyprice.js' type="text/javascript" defer)
  script(src='javascripts/home/home_resize.js' type="text/javascript" defer)
  
  //- script(src='javascripts/search.js')
