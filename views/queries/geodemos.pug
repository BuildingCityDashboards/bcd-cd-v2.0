extends ../layout
include queries__subnav
include ../component/bcd-accordion-query

block append head
    link(rel='stylesheet', href='https://unpkg.com/leaflet@1.3.1/dist/leaflet.css')

    //- link(rel='stylesheet', href='https://rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.css')
    //- link(rel='stylesheet', href='/stylesheets/lib/Control.OSMGeocoder.modified.css')
    link(rel='stylesheet', href='/stylesheets/components/bcd-map.css')
    link(rel='stylesheet', href='/stylesheets/components/bcd-subnav.css')
    link(rel='stylesheet', href='/stylesheets/queries/bcd-query-basic.css')
    link(rel='stylesheet', href='/stylesheets/components/bcd-accordian-query.css')
    //- link(rel='stylesheet', href='/stylesheets/lib/leaflet-chart-modified.css')  
    //- link(rel='stylesheet', href='/stylesheets/spin.css')

block navigation
    +bcd-navbar("bcd-navbar","/","Cork Dashboard", "Queries")
    +queries__subnav("subnav")
block content
    .query
        .query__grid
            .query__source 
                p Sources:
                    a(href="https://rpubs.com/burcinwalsh/620510" target="_blank")
                       | RPubs
                    a(href="https://data.cso.ie/product/c2016sr1" target="_blank")
                        | CSO
            .query__header
                +accordion({
                    id:"geodemos-header",
                    title: "<h1>Geodemographics</h1>", 
                    content: "<p> Geodemographic classification is a statistical tool that groups spatial units based on socio-economic characteristics.  This query follows the Ireland Geodemographic classification method with a focus on Cork.  Geographical Small Areas (SAs) are selected as spatial units, and variables are taken from the <a href=\"https://data.cso.ie/product/c2016sr1\" target=\"_blank\"> 2016 Census of Population results</a>. This analysis was carried out by Burcin Yazgi Walsh and is available <a href=\"https://rpubs.com/burcinwalsh/620510\" target=\"_blank\">here</a>.</p>",
                    classes: "open"
                    })
                        
            #groups-dropdown.query__dropdown-bar.dropdown 
                    .query__drop-btn.dropbtn
                        p Select a group:
                        #current-group
                            p All Groups
                        svg(class="dropdown__arrow" width="7" height="12" viewBox="0 0 7 12")
                            path(fill-rule="nonzero" d="M5.569 5.994L0 .726.687 0l6.336 5.994-6.335 6.002L0 11.27z")
                    #query-dropdown__content.dropdown-content
                        button(class = 'dropdown-button' type='button' data='1')
                            p Group 1
                        button(class = 'dropdown-button' type='button' data='2') 
                            p Group 2
                        button(class = 'dropdown-button' type='button' data='3') 
                            p Group 3
                        button(class = 'dropdown-button' type='button' data='4') 
                            p Group 4
                        button(class = 'dropdown-button' type='button' data='5')
                            p Group 5
                        button(class = 'dropdown-button' type='button' data='6') 
                            p Group 6
                        button(class = 'dropdown-button' type='button' data='7') 
                            p Group 7
                        button(class = 'dropdown-button' type='button' data='all') 
                            p All Groups
                    
            .query__help
                .query__help__icon i
                div 
                    p Choose a group to be visualised on the map and value chart. The heatmap shows an overview of statistics for all groups.
            //- .query__list list
                .query__list-item item 1
                .query__list-item item 2
                .query__list-item item 3
            .query__viz
                #geodemos-map
                    +accordion({
                        id: "accordion-map",
                        title: "<h2>Groups Map<h2>",
                        content: "", 
                        classes: "open"
                        })
                    .accordion__content.open
                            #map-geodemos
                #geodemos-chart
                    +accordion({
                        id: "accordion-chart",
                        title: "<h2>Values Chart</h2>",
                        content: "", 
                        classes: "open"
                        })
                        .accordion__content.open
                            #chart-geodemos
            #geodemos-group-description
                +accordion({
                    id: "accordion-group-description",
                    title: "<h2>Group Description<h2>",
                    content: "",
                    classes: "open" 
                    })
                .accordion__content.open 
                    #geodemos-group-description__content 
                        p The group classifications shown on the map are the result of similarities found in data through the analysis of 35 variables from the census results. The associated values displayed in the chart are considered under the themes of (i) age and marital status; (ii) ethnicity; (iii) housing; (iv) socio-economic group; (iv) education; (v) commuting; (vi) occupation type; (vii) motor car availability and (viii) internet access. 
            #geodemos-heatmap
                +accordion({
                    id: "accordion-heatmap",
                    title:"<h2>Heatmap</h2>",
                    content: "", 
                    classes: "open"
                    })
                    .accordion__content.open
                        #geodemos-heatmap__content
                            #geodemos-heatmap__text
                                p The cluster mean for each variable was calculated and plotted on the heatmap to help to identify the characteristics of each 7 groups. The 33 variables are presented in the rows and clusters in the columns. Higher values of a variable can be identified by darker shade of blues and low values by red within each cluster.
                            #geodemos-heatmap__chart

block append scripts
    script(type='text/javascript', src='/lib/d3v5/d3.min.js' )
    script(src="https://cdn.plot.ly/plotly-latest.min.js" type="text/javascript" )
    
    script(src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js")
    script(src="/lib/leaflet-osm-master/leaflet-osm.js" type="text/javascript")
    script(src="/lib/L.Control.Locate.modified.js" type="text/javascript")
    script(src="/lib/Control.OSMGeocoder.modified.js" type="text/javascript")
    //- script(src="/javascripts/charts/plotly/plotly_config_tools.js" type="text/javascript")  
    script(src="/javascripts/queries/geodemos/geodemos.js" type="module" ) 
    script(src='/javascripts/modules/accordion.js' type="text/javascript" )

        //- <img  height='48px' width='115px' src='/images/icons/demograph.svg'>
                                    br 
                                    
                                    span#group-title.Group_Title Group 1
                                    br
                                    
                            .col-9
                                
                                span#group-text.Group_Description.text-style-2  Students from different levels (undergraduate and postgraduate), single people who are at their early career stage, young professionals, couples without children are represented in this group. 
                                    | Residents of these areas mostly coming from an international background and age range is between 25 to 44. This group consists the lowest percentage of the Dublin population (8.2 %) compared to the other groups. 
                                    | Out of four different authorities Dublin City has the highest percentage of the small areas belonging to this group (86.8 %).   
                                #desc   
                                                    
            
                
            .row
               br
               .col-2
                    h6.TextStys Select a Group 
               .col-5       
    
                    nav.nav.nav-pills.nav-justified
                        a(href="https://rpubs.com/burcinwalsh/620510" target="_blank") 
                            button.theme-btn(type='button') OVERVIEW
                        a(href="/queries/geodemosHM") 
                            button.theme-btn(type='button') HEATMAP   
                                  
            .row.no-gutters
                .col-2
                    #group-buttons.Group-Header_item.Group_Description.text-style-1 

                        //- .row.-Elevation
                        //-     a(href='/queries/geodemosHM') 
                        //-         button.btn-link(type='button', id='all') Heatmap 
                        //- .row.-Elevation
                        //-     p.-Subtitle-1.col-5 Groups

                        .row.Elevation
                            
                                //- p.TextStys Select a group or compare 
                                //-    |up to three using the list below

                        .row.-Elevation  
                            p.-Subtitle-1.col-7 All Groups
                                a(href='#',)
                                    .col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected-all.svg' id='all' >  
                                //- .col-1  
                                    input.regular-checkbox(type="checkbox"   name="myCheckbox" value="all" id='all' )

                        .row.-Elevation       
                            p.-Subtitle-1.col-7 1
                                a(href='#',)  
                                    //-input.regular-checkbox(type="checkbox" checked="checked" name="myCheckbox" value="1" id='1') 
                                    //- input.custom-control-input(type='checkbox', checked="checked" name="" value="1" id='1') 
                                    .col-1 <img  height='22px' width='18px' src='/images/icons/sd10.svg' id='1' >  
                                    
                        .row.-Elevation        
                            p.-Subtitle-1.col-7 2
                                a(href='#',)
                                    .col-1 <img  height='22px' width='18px' src='/images/icons/sd2.svg' id='2'> 
                                //- .col-1  
                                //-     input.regular-checkbox(type="checkbox"   name="myCheckbox" value="2" id='2')
                        
                        .row.-Elevation        
                            p.-Subtitle-1.col-7 3
                                a(href='#',)
                                    p.col-1 <img  height='22px' width='18px' src='/images/icons/sd3.svg' id='3'> 
                                //- .col-1  
                                //-     input.regular-checkbox(type="checkbox"  name="myCheckbox" value="3" id='3')
                        .row.-Elevation        
                            p.-Subtitle-1.col-7 4
                                //- .col-1  
                                    input.regular-checkbox(type="checkbox"  name="myCheckbox" value="4" id='4')
                                a(href='#',)
                                    p.col-1 <img  height='22px' width='18px' src='/images/icons/sd4.svg' id='4'>
                                
                        .row.-Elevation        
                            p.-Subtitle-1.col-7 5
                                //- .col-1  
                                    input.regular-checkbox(type="checkbox"  name="myCheckbox" value="5" id='5')
                                a(href='#',)
                                    p.col-1 <img  height='22px' width='18px' src='/images/icons/sd5.svg' id='5'> 

                        .row.-Elevation        
                            p.-Subtitle-1.col-7 6
                                //- .col-1  
                                    input.regular-checkbox(type="checkbox"  name="myCheckbox" value="6" id='6')
                                a(href='#',)
                                    p.col-1 <img  height='22px' width='18px' src='/images/icons/sd6.svg' id='6'>
                        .row.-Elevation        
                            p.-Subtitle-1.col-7 7
                                //- .col-1  
                                    input.regular-checkbox(type="checkbox"  name="myCheckbox" value="7" id='7')
                                a(href='#',)
                                    p.col-1 <img  height='22px' width='18px' src='/images/icons/sd7.svg' id='7'>  
                
                .col-5       
    
                    //- nav.nav.nav-pills.nav-justified
                    //-     a.nav-item.nav-link(href="https://rpubs.com/burcinwalsh/620510" target="_blank")  OVERVIEW
                    //-     a.nav-item.nav-link(href='/queries/geodemosHM') HEATMAP
                    #map-geodemos
                    
                .col-5
                    #chart-geodemos
            //- #group-buttons
            //-     .row.no-gutters
            //-         .col-1
            //-             .row
                        
            //-             h6.col-1 Groups  
            //-             .row
            //-                 p.col-1 All
            //-                     a(href='#',)
            //-                         p.col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_deselected.svg' id='all'>      
                                
            //-             .row       
            //-                 p.col-1 1
            //-                     a(href='#',)
            //-                         .col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_selected.svg' id='1'>  
            //-             .row        
            //-                 p.col-1 2
            //-                     a(href='#',)
            //-                         .col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_deselected.svg' id='2'> 
            //-             .row        
            //-                 p.col-1 3
            //-                     a(href='#',)
            //-                         .col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_deselected.svg' id='3'> 

            //-             .row        
            //-                 p.col-1 4
            //-                     a(href='#',)
            //-                         .col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_deselected.svg' id='4'>
                                
            //-             .row        
            //-                 p.col-1 5
            //-                     a(href='#',)
            //-                         .col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_deselected.svg' id='5'> 

            //-             .row        
            //-                 p.col-1 6
            //-                     a(href='#',)
            //-                         .col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_deselected.svg' id='6'>
            //-             .row        
            //-                 p.col-1 7
            //-                     a(href='#',)
            //-                         p.col-1 <img  height='20px' width='20px' src='/images/icons/Icon_eye_deselected.svg' id='7'>                   
                    
            //-         .col-7
            //-             #map-geodemos
            //-         .col-4
            //-             #chart-geodemos
            //-             </div>  
     
//-   script(src="/lib/proj4.js" type="text/javascript")
//-   script(src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js")
//-   script(src="/lib/leaflet-osm-master/leaflet-osm.js" type="text/javascript")
//-   script(src="/lib/L.Control.Locate.modified.js" type="text/javascript")
//-   script(src="https://rawgit.com/k4r573n/leaflet-control-osm-geocoder/master/Control.OSMGeocoder.js" type="text/javascript")
//-   script(src="/lib/Control.OSMGeocoder.modified.js" type="text/javascript")    
//-   script(src="https://d3js.org/d3.v5.js" type="text/javascript")
//-   script(src="https://cdn.plot.ly/plotly-latest.min.js" type="text/javascript")
//-   //- //    script(src="spin/dist/spin.min.js")
//-   //- //    script(src="leaflet.spin.min.js")
//-   script(src="/javascripts/charts/plotly/plotly_config_tools.js" type="text/javascript")  
//-   //-script(type='text/javascript', src='/routes/queries.js')
//-   script(src="/javascripts/queries/geodemos.js" type="module") 

//-   script(src="/javascripts/themes/maps_common.js" type="text/javascript")

  //- 
  //- script(src="/javascripts/queries/statbank_test.js" type="module") 
  //- script(src='Scripts/jquery-1.8.3.min.js', type='text/javascript')
  //- script(src='Scripts/jquery-1.8.3.js', type='text/javascript')
  //- script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js")
  //-script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js")
  //-script(src="https://d3js.org/d3.v5.js" type="text/javascript")
  //-script(src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js")
  //- script(type='text/javascript', src='"https://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js')
  //- script(type='text/javascript', src='/javascripts/jquery.ba-hashchange.min.js') 
  //-script(type='text/javascript', src='/javascripts/dynamicpage.js')
  //-script(type='text/javascript', src='/javascripts/queries/geodemos.js

        .Group_Description
            
                    .row 
                        .col-2
                                              
                            p
                                <img  height='48px' width='115px' src='/images/icons/demograph.svg'>
                                br 
                                
                                span#group-title.Group_Title  Group 1
                                br
                                span To view analysis code Please visit:
                                    a(href="https://rpubs.com/burcinwalsh/620510" target="_blank")  RPubs.
                        .col-10
                              
                            span#group-text.Group_Description.text-style-1  Students from different levels (undergraduate and postgraduate), single people who are at their early career stage, young professionals, couples without children are represented in this group. 
                                | Residents of these areas mostly coming from an international background and age range is between 25 to 44. This group consists the lowest percentage of the Dublin population (8.2 %) compared to the other groups. 
                                | Out of four different authorities Dublin City has the highest percentage of the small areas belonging to this group (86.8 %). 
                            #desc   
                                               

        .row.no-gutters
            .col-1
                #group-buttons.Group-Header_item.Group_Description.text-style-1 

                    .row.-Elevation
                        a(href='/queries/geodemosHM') 
                            button.btn-link(type='button', id='all') Heatmap 
                    .row.-Elevation
                        p.-Subtitle-1.col-5 Groups
                        
                    .row.-Elevation  
                        p.-Subtitle-1.col-5 All

                        a(href='#',)
                            p.col-1 <img  background-color='#6fd1f6' height='22px' width='18px' src='/images/icons/Icon_eye_deselected.svg' id='all'>      
                            
                    .row.-Elevation       
                        p.-Subtitle-1.col-5 1
                            a(href='#',)
                                .col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected.svg' id='1' >  
                                 
                    .row.-Elevation        
                        p.-Subtitle-1.col-5 2
                            a(href='#',)
                                .col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected-2.svg' id='2'> 
                    //- hr(style='border-top= 0.09px solid #bbb;')
                    .row.-Elevation        
                        p.-Subtitle-1.col-5 3
                            a(href='#',)
                                .col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected-3.svg' id='3'> 
                    //- hr(style='border-top= 0.09px solid #bbb;')
                    .row.-Elevation        
                        p.-Subtitle-1.col-5 4
                            a(href='#',)
                                .col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected-4.svg' id='4'>
                    //- hr(style='border-top= 0.09px solid #bbb;')   
                    .row.-Elevation        
                        p.-Subtitle-1.col-5 5
                            a(href='#',)
                                .col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected-5.svg' id='5'> 
                    //- hr(style='border-top= 0.09px solid #bbb;')
                    .row.-Elevation        
                        p.-Subtitle-1.col-5 6
                            a(href='#',)
                                .col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected-6.svg' id='6'>
                    .row.-Elevation        
                        p.-Subtitle-1.col-5 7
                            a(href='#',)
                                p.col-1 <img  height='22px' width='18px' src='/images/icons/Icon_eye_selected-7.svg' id='7'> 
        